(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d591ffc0"],{"20ab":function(t,e,n){},"5ae5":function(t,e,n){},"5ec3":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dashboard-container"},[t._l(t.nodeData,(function(e){return n("div",{key:e.stepCode},[n("h1",{staticStyle:{background:"#ccc"}},[t._v(t._s(e.stepName))]),n("processMap",{attrs:{"node-data":e,size:t.config.size?"small":"large",sColor:t.config.sColor,tColor:t.config.tColor}})],1)})),n("el-button",{staticClass:"setting-button",attrs:{icon:"el-icon-setting",type:"primary"},on:{click:function(e){t.show=!t.show}}}),n("el-dialog",{attrs:{visible:t.showmock,title:"demo data"},on:{"update:visible":function(e){t.showmock=e}}},[n("highlightjs",{staticClass:"atom-one-dark",attrs:{language:"javascript",code:t.demoMockData}})],1),n("el-drawer",{attrs:{visible:t.show},on:{"update:visible":function(e){t.show=e}}},[n("p",{attrs:{slot:"title"},slot:"title"},[t._v("Setting Drawer")]),n("div",{staticStyle:{padding:"0 40px"}},[n("p",[t._v("2级色彩设置")]),n("el-color-picker",{model:{value:t.config.sColor,callback:function(e){t.$set(t.config,"sColor",e)},expression:"config.sColor"}}),n("el-divider"),n("p",[t._v("3级色彩设置")]),n("el-color-picker",{model:{value:t.config.tColor,callback:function(e){t.$set(t.config,"tColor",e)},expression:"config.tColor"}}),n("el-divider"),n("p",[t._v("组件大小 可选 default/small")]),n("el-switch",{attrs:{"active-text":"small","inactive-text":"default"},model:{value:t.config.size,callback:function(e){t.$set(t.config,"size",e)},expression:"config.size"}}),n("el-divider"),n("p",[t._v("组件接受参数数据结构")]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.showmock=!t.showmock}}},[t._v("查看")]),n("el-divider"),n("p",[t._v("3depth 全部收起")]),n("el-switch",{attrs:{"active-text":"收起","inactive-text":"展开"},on:{change:t.closeAll},model:{value:t.config.extendAll,callback:function(e){t.$set(t.config,"extendAll",e)},expression:"config.extendAll"}})],1)])],2)},o=[],i=n("5530"),c=(n("159b"),n("2f62")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"process-row-box",class:{"process-row-box-small":"small"==t.size}},t._l(t.secondData,(function(e,a){return n("div",{key:a,staticClass:"second-box_row",class:[{"second-box_row_item":0==a&&e.extend},t.boxRowClass(a,t.secondData,"2"),t.nodeData.extend?"":t.thirdVerifyClass(a,t.secondData,e)]},t._l(e,(function(o,i){return n("div",{key:i,class:{"second-box_container":!0,"third-box_container_line":!t.nodeData.extend,"third-box_once":1==e.length,"depth2-clicked":o.clicked,"depth-focus":o.clicked},attrs:{id:"n"+o.stepCode}},[n("div",{staticClass:"map-second_center_line"},[n("div",{class:[t.secondClass(i,e,a,o),{"depth-selected":o.clicked,"half-line":o.isOnceTwo&&!o.extend&&!t.nodeData.extend}],style:{backgroundColor:t.sColor},on:{click:function(e){return t.secondClick(o)}}},[n("div",{staticClass:"circel_text font-NotoSansCJKkr-Bold"},[t._v(" "+t._s(o.stepName)+" ")])])]),t._l(t.formatData(o),(function(e,a){return[n("div",{directives:[{name:"show",rawName:"v-show",value:o.extend,expression:"t.extend"}],staticClass:"third-box_row",class:[{"third-box_row_item":0==a,"half-line-third":0==a&&1==e.length},t.boxRowClass(a,t.formatData(o),"3"),t.thirdVerifyClass(a,t.formatData(o),e)]},t._l(e,(function(i,c){return n("div",{class:{"third-box_container":!0,"third-box_container_line":!0,"third-box_once":1==e.length}},[n("div",{staticClass:"map-third_center_line"},[n("div",{class:[t.thirdClass(c,e,a,t.formatData(o)),{"half-line":i.isOnceTwo,"third-checked":i.checked||i.focus,"dis-checked":t.disChecked,"allow-checked":i.allowClick}],style:{backgroundColor:t.tColor},on:{click:function(e){return t.changeThirdStatus(i)}}},[n("div",{staticClass:"third_text"},[t._v(" "+t._s(i.stepName)+" ")])])])])})),0)]}))],2)})),0)})),0)},r=[],l=function(t){if(t&&t.data&&t.data.length){for(var e=t.data,n=[],a=0;a<e.length;a++)"1"==e[a].rankType?(n.length>0&&(1===n[n.length-1].length?e[a].isOnceTwo=!0:e[a].isOnceTwo=!1),n.push([e[a]])):"2"==e[a].rankType&&n.length>0&&(n[n.length-1].forEach((function(t){return t.isOnceTwo=!1})),n[n.length-1].push(e[a]));return n}return[]},d=l,h={props:{nodeData:{},size:{type:String,default:"large"},isFocus:{type:Boolean,default:!1},sColor:{type:String,default:"#f7acbc"},tColor:{type:String,default:"#ef5b9c"},disChecked:{type:Boolean,default:!1}},data:function(){return{currentData:{},statusArr:["","완료","결재중",""],logParam:{projectCode:"",screenId:"map",uiComponentType:"",uiComponentId:"",uiComponentSelVal:"",accessKindCd:""}}},computed:{secondData:function(){return d(this.nodeData)},isSmall:function(){return"small"===this.size}},created:function(){this.currentData=this.nodeData},methods:{secondClass:function(t,e,n,a){var o=this,i=e.length,c="map-circle_box flex_center ";function s(){var t="";return a.extend||(n===o.secondData.length-1?o.secondData[n-1]?t+="map-third_box_center map-third_box_center_end":t+="map-third_box_center map-third_box_center_end  map-third_box_center_first":o.secondData[n-1]&&o.secondData[n-1].length>0?t+=" map-third_box_center ":t+=" map-third_box_center map-third_box_center_first"),t}function r(){var e="";return a.extend||(e+=0===t?"map-third_box_first":t===i-1?"map-third_box_last":"map-third_box_center"),e}return this.fromTree&&(c="map-circle_box_tree flex_center "),this.nodeData.extend||(1===e.length?c+=s():c+=r()),c},thirdClass:function(t,e,n,a){var o=e.length,i="map-third_box flex_center ";return 1===e.length?n===a.length-1?i+="map-third_box_center map-third_box_center_end":i+="map-third_box_center":i+=0===t?"map-third_box_first":t===o-1?"map-third_box_last":"map-third_box_center",i},formatData:function(t){return d(t)},secondClick:function(t){console.log(t),this.$message.info("你点击了".concat(t.stepName,"..."))},changeThirdStatus:function(t){console.log(t),this.$message.success("你点击了".concat(t.stepName,"..."))},thirdVerifyClass:function(t,e,n){var a="";return n.length>1&&t!==e.length-1&&e[t+1].length>1&&(a+="map-third_box_row_after third-map-bottom"),a},boxRowClass:function(t,e,n){var a=!0,o="";function i(){e.forEach((function(t){"1"===t.rankType&&(a=!1)}))}return e.length-1===t&&e[t].length>1&&(i(),a&&(o+=" m-bottom20")),"2"===n&&0===t&&e[t].length>1&&(i(),a&&(o+=" m-top20")),o}}},u=h,f=(n("adcf"),n("2877")),p=Object(f["a"])(u,s,r,!1,null,"6d0e8b52",null),_=p.exports,m=_,b=n("b775");function x(){return Object(b["a"])({url:"/api/processmap/data",method:"get"})}var g="[\n  {\n    'stepCode': 10100101,\n    'stepName': '@cname',\n    'data': [\n      {\n        'status': '3',\n        'stepCode': 20200101,\n        'stepName': '@cname',\n        'rankType': 1,\n        'data': [\n          {\n            'stepCode': 30300101,\n            'stepName': '@cname',\n            'rankType': 1,\n          }, ...\n        ]\n      }, ...\n    ]\n  }, ...\n]",v={name:"Dashboard",components:{processMap:m},computed:Object(i["a"])({},Object(c["b"])(["name"])),data:function(){return{show:!1,demoMockData:g,nodeData:[],config:{sColor:"#f7acbc",tColor:"#ef5b9c",size:!1,extendAll:!1},showmock:!1}},created:function(){this.getData()},methods:{getData:function(){var t=this;x().then((function(e){t.initList(e.data)}))},initList:function(t){var e=t;e.forEach((function(t,e){t.extend=!1,t.data&&t.data.forEach((function(e){e.extend=!0,e.data&&e.data.length>0&&(t.extend=!0),e.data&&e.data.forEach((function(t){}))}))})),this.nodeData=e,console.log(this.nodeData)},closeAll:function(t){var e=this.nodeData;t?e.forEach((function(t){t.data.forEach((function(t){t.extend=!1})),t.extend=!1})):this.initList(e)}}},C=v,k=(n("a1ad"),Object(f["a"])(C,a,o,!1,null,"25f3b28e",null));e["default"]=k.exports},a1ad:function(t,e,n){"use strict";n("5ae5")},adcf:function(t,e,n){"use strict";n("20ab")}}]);